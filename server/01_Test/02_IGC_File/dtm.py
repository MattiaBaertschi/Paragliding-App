import requests

def wgstolv95(lon,lat):
    url = f'http://geodesy.geo.admin.ch/reframe/wgs84tolv95?easting={lon}&northing={lat}&format=json'

    x = requests.get(url).json()

    e = x['easting']
    n = x['northing']
    return [round(float(e),1),round(float(n),1)]




# polyline = [[8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [8.02655, 46.37606666666667], [7.974766666666667, 46.31516666666667], [7.974766666666667, 46.31516666666667], [7.974766666666667, 46.31516666666667], [7.974766666666667, 46.31516666666667]]

# polyline_wgs = []

# for i in polyline:
#     lon = i[0]
#     lat = i[1] 

#     polyline_wgs.append(wgstolv95(lon, lat))


# print(polyline_wgs)